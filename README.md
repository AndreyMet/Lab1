Для каждого задания сделать ответвления от указанных веток.
1. merge feature1 в main
2. rebase feature1 в main
3. merge non-fast-forward feature1 в main

1. merge feature1 в feature2
2. rebase feature1 в feature2
3. merge non-fast-forward feature1 в feature2